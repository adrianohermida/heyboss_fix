import{c as b,r as s,j as e,U as j,R as h,_ as v,H as y}from"./index-DsA75UDv.js";import"./supabaseClient-BcFB357R.js";import{C}from"./CustomForm-DNBW0cxx.js";import{c as w}from"./themes-Cxw5ut08.js";import{L as N}from"./loader-circle-D4tTIgnE.js";import"./index-BykweIWy.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],A=b("briefcase",_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],F=b("shield",S),k=s.createContext(void 0);function H(){const a=s.useContext(k);if(!a)throw new Error("useAuth must be used within AuthProvider");return a}const E=({email:a,profile:t,isAdmin:n,isColaborador:d,isCliente:c})=>e.jsxs("div",{"data-component-start":"5:2:159","data-component-end":"15:8:702","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",children:[e.jsx("div",{"data-component-start":"6:4:250","data-component-end":"8:10:425","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"div","data-component-class":"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",className:"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{"data-component-start":"7:6:364","data-component-end":"7:55:413","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"User","data-component-class":"text-brand-primary",className:"text-brand-primary",size:48})}),e.jsx("h2",{"data-component-start":"9:4:431","data-component-end":"9:73:500","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"h2","data-component-class":"font-bold text-lg",className:"font-bold text-lg",children:(t==null?void 0:t.user_email)||a}),e.jsxs("p",{"data-component-start":"10:4:506","data-component-end":"14:8:692","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"p","data-component-class":"text-white/40 text-xs uppercase tracking-widest mt-1",className:"text-white/40 text-xs uppercase tracking-widest mt-1",children:[n&&"Administrador",d&&"Colaborador",c&&"Cliente"]})]}),z=({profile:a,isAdmin:t,isColaborador:n})=>e.jsxs("div",{"data-component-start":"5:2:158","data-component-end":"16:8:717","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",className:"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",children:[e.jsxs("div",{"data-component-start":"6:4:247","data-component-end":"9:10:431","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[e.jsx(F,{"data-component-start":"7:6:304","data-component-end":"7:57:355","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"Shield","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),e.jsx("span",{"data-component-start":"8:6:363","data-component-end":"8:62:419","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:"Acesso Verificado"})]}),(t||n)&&e.jsxs("div",{"data-component-start":"11:6:477","data-component-end":"14:12:699","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[e.jsx(A,{"data-component-start":"12:8:536","data-component-end":"12:62:590","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"Briefcase","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),e.jsx("span",{"data-component-start":"13:8:600","data-component-end":"13:93:685","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:(a==null?void 0:a.area_atuacao)||"Área não definida"})]})]}),L=({profile:a,email:t,isCliente:n,saving:d,handleSave:c,message:p})=>{const[o,f]=h.useState(null);return h.useEffect(()=>{v(()=>import("./form-configs-kofOPall.js"),[]).then(r=>f(r.default||r))},[]),o?e.jsxs("div",{"data-component-start":"15:4:543","data-component-end":"47:10:2259","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",children:[p&&e.jsx("div",{"data-component-start":"17:8:657","data-component-end":"19:14:965","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div",className:`mb-8 p-4 rounded-xl flex items-center gap-3 ${p.type==="success"?"bg-brand-primary/10 text-brand-primary border border-brand-primary/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:e.jsx("span",{"data-component-start":"18:10:892","data-component-end":"18:67:949","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"span","data-component-class":"text-sm font-bold",className:"text-sm font-bold",children:p.text})}),e.jsxs("div",{"data-component-start":"21:6:983","data-component-end":"23:12:1301","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div","data-component-class":"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",className:"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",children:[e.jsx("b",{"data-component-start":"22:8:1108","data-component-end":"22:20:1120","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"b",children:"LGPD:"})," Seus dados pessoais são utilizados apenas para identificação e contato. Você pode editar ou remover seus dados, exceto o e-mail, que é usado como identificador único."]}),e.jsx(C,{"data-component-start":"24:6:1309","data-component-end":"46:8:2247","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"CustomForm",id:"profile_form",schema:{...o.profile_form.jsonSchema,properties:{...o.profile_form.jsonSchema.properties,user_email:{...o.profile_form.jsonSchema.properties.user_email,readOnly:!0,description:"E-mail não pode ser alterado."},...n?{oab_numero:{...o.profile_form.jsonSchema.properties.oab_numero,hidden:!0},area_atuacao:{...o.profile_form.jsonSchema.properties.area_atuacao,hidden:!0}}:{}},required:["user_email"]},formData:{...a,user_email:t},onSubmit:c,theme:w,labels:{submit:d?"Salvando...":"Salvar Alterações"}})]}):e.jsx("div",{"data-component-start":"12:26:484","data-component-end":"12:64:522","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div",children:"Carregando configurações..."})},T=()=>e.jsx("div",{"data-component-start":"5:2:106","data-component-end":"7:8:264","data-component-path":"src\\react-app\\components\\Profile\\ProfileSkeleton.tsx","data-component-file":"ProfileSkeleton.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark flex items-center justify-center",className:"min-h-screen bg-brand-dark flex items-center justify-center",children:e.jsx(N,{"data-component-start":"6:4:189","data-component-end":"6:69:254","data-component-path":"src\\react-app\\components\\Profile\\ProfileSkeleton.tsx","data-component-file":"ProfileSkeleton.tsx","data-component-name":"Loader2","data-component-class":"text-brand-primary animate-spin",className:"text-brand-primary animate-spin",size:48})}),V=["adrianohermida@gmail.com","contato@hermidamaia.adv.br","admin@example.com"],U=()=>{const{user:a}=H(),[t,n]=s.useState(null),[d,c]=s.useState(!0),[p,o]=s.useState(!1),[f,r]=s.useState(null),l=((a==null?void 0:a.email)||"").toLowerCase(),m=V.includes(l),x=!m&&l.endsWith("@hermidamaia.adv.br"),P=!m&&!x;s.useEffect(()=>{fetch("/api/users/me",{headers:{"Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{n(i),c(!1)}).catch(()=>c(!1))},[a]);const u=async i=>{o(!0),r(null);try{(await fetch("/api/users/me",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?r({type:"success",text:"Perfil atualizado com sucesso!"}):r({type:"error",text:"Erro ao atualizar perfil."})}catch{r({type:"error",text:"Erro de conexão."})}finally{o(!1)}};return d?e.jsx(T,{"data-component-start":"72:22:2553","data-component-end":"72:41:2572","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileSkeleton"}):e.jsxs("div",{"data-component-start":"75:4:2593","data-component-end":"96:10:3678","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark text-white",className:"min-h-screen bg-brand-dark text-white",children:[e.jsx(y,{"data-component-start":"76:6:2656","data-component-end":"76:16:2666","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Header"}),e.jsxs("main",{"data-component-start":"77:6:2674","data-component-end":"95:13:3666","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"main","data-component-class":"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",className:"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[e.jsxs("div",{"data-component-start":"78:8:2753","data-component-end":"85:14:3075","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"mb-12",className:"mb-12",children:[e.jsx("h1",{"data-component-start":"79:10:2788","data-component-end":"79:65:2843","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"h1","data-component-class":"text-3xl font-extrabold",className:"text-3xl font-extrabold",children:"Meu Perfil"}),e.jsxs("p",{"data-component-start":"80:10:2855","data-component-end":"84:14:3059","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"p","data-component-class":"text-white/50 mt-1",className:"text-white/50 mt-1",children:[m&&"Administrador do Escritório",x&&"Colaborador do Escritório",P&&"Cliente"]})]}),e.jsxs("div",{"data-component-start":"86:8:3085","data-component-end":"94:14:3651","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"grid md:grid-cols-3 gap-8",className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{"data-component-start":"87:10:3140","data-component-end":"90:16:3433","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-1 space-y-6",className:"md:col-span-1 space-y-6",children:[e.jsx(E,{"data-component-start":"88:12:3195","data-component-end":"88:131:3314","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileHeader",email:l,profile:t,isAdmin:m,isColaborador:x,isCliente:P}),e.jsx(z,{"data-component-start":"89:12:3328","data-component-end":"89:99:3415","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileAccessCard",profile:t,isAdmin:m,isColaborador:x})]}),e.jsx("div",{"data-component-start":"91:10:3445","data-component-end":"93:16:3635","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-2",className:"md:col-span-2",children:e.jsx(L,{"data-component-start":"92:12:3490","data-component-end":"92:139:3617","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileForm",profile:t,email:l,isCliente:P,saving:p,handleSave:u,message:f})})]})]})]})};export{U as default};
