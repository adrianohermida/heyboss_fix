import{r as c,a as R,u as v,_ as y,j as e,H as j}from"./index-zeu6QezB.js";import{S as F}from"./ScrollToTopButton-Bm3BVJ5u.js";import{L as N}from"./lock-D8vcvfJe.js";import{L as S}from"./loader-circle-DmGPZJBg.js";const T=()=>{const[n,p]=c.useState(""),[s,a]=c.useState(!1),[r,t]=c.useState(""),[m,d]=c.useState(""),l=R(),{mode:o}=v(),i=o==="clear"?"bg-gray-50":"bg-brand-dark",g=o==="clear"?"text-gray-900":"text-white",h=o==="clear"?"border-gray-200":"border-white/10";function f(){const x=window.location.hash;return new URLSearchParams(x.replace("#","?")).get("access_token")}const u=f();return{password:n,setPassword:p,loading:s,error:r,success:m,handleResetPassword:async x=>{if(x.preventDefault(),a(!0),t(""),d(""),!u){t("Token de redefinição inválido ou expirado."),a(!1);return}try{const{supabase:w}=await y(async()=>{const{supabase:b}=await import("./supabaseClient-BcFB357R.js");return{supabase:b}},[],import.meta.url),{error:P}=await w.auth.updateUser({password:n},{accessToken:u});P?t(P.message):(d("Senha redefinida com sucesso! Faça login novamente."),setTimeout(()=>l("/login"),2e3))}catch{t("Erro ao redefinir senha. Tente novamente.")}a(!1)},mode:o,inputBg:i,inputText:g,inputBorder:h}},k=()=>{const{password:n,setPassword:p,loading:s,error:a,success:r,handleResetPassword:t,mode:m,inputBg:d,inputText:l,inputBorder:o}=T();return e.jsxs("form",{"data-component-start":"8:4:322","data-component-end":"32:11:1758","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"form","data-component-class":"space-y-4",onSubmit:t,className:"space-y-4","aria-label":"Formulário de redefinição de senha",children:[e.jsxs("div",{"data-component-start":"9:6:437","data-component-end":"21:12:1044","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"div","data-component-class":"relative",className:"relative",children:[e.jsx(N,{"data-component-start":"10:8:473","data-component-end":"10:137:602","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"Lock",className:`absolute left-4 top-1/2 -translate-y-1/2 ${m==="clear"?"text-gray-400":"text-white/30"}`,size:20}),e.jsx("input",{"data-component-start":"11:8:612","data-component-end":"20:10:1030","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"input",type:"password",required:!0,placeholder:"Nova senha",value:n,onChange:i=>p(i.target.value),className:`w-full ${d} ${l} border ${o} rounded-xl py-4 pl-12 pr-4 focus:border-brand-primary outline-none transition-all`,"aria-label":"Nova senha",autoComplete:"new-password"})]}),a&&e.jsx("div",{"data-component-start":"22:16:1062","data-component-end":"22:139:1185","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"div","data-component-class":"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-xl text-sm text-center",className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-xl text-sm text-center",children:a}),r&&e.jsx("div",{"data-component-start":"23:18:1206","data-component-end":"23:149:1337","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"div","data-component-class":"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-3 rounded-xl text-sm text-center",className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-3 rounded-xl text-sm text-center",children:r}),e.jsx("button",{"data-component-start":"24:6:1346","data-component-end":"31:15:1745","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"button","data-component-class":"w-full bg-brand-primary hover:bg-brand-primary/90 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50",type:"submit",disabled:s,className:"w-full bg-brand-primary hover:bg-brand-primary/90 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50","aria-busy":s,children:s?e.jsx(S,{"data-component-start":"30:19:1661","data-component-end":"30:65:1707","data-component-path":"src\\react-app\\components\\ResetPassword\\ResetPasswordForm.tsx","data-component-file":"ResetPasswordForm.tsx","data-component-name":"Loader2","data-component-class":"animate-spin",className:"animate-spin",size:20}):"Redefinir Senha"})]})},H=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{"data-component-start":"15:6:580","data-component-end":"36:12:1701","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"div",style:{minHeight:"100vh",background:"var(--color-bg)",color:"var(--color-text)"},children:[e.jsx(j,{"data-component-start":"16:8:685","data-component-end":"16:18:695","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"Header"}),e.jsx("main",{"data-component-start":"17:8:705","data-component-end":"34:15:1626","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"main","data-component-class":"flex items-center justify-center px-4 py-12 min-h-[80vh]",className:"flex items-center justify-center px-4 py-12 min-h-[80vh]",children:e.jsxs("div",{"data-component-start":"18:10:792","data-component-end":"33:16:1609","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"div","data-component-class":"w-full max-w-md space-y-8 p-8 sm:p-12 rounded-[2.5rem] border relative overflow-hidden shadow-2xl animate-fade-in",className:"w-full max-w-md space-y-8 p-8 sm:p-12 rounded-[2.5rem] border relative overflow-hidden shadow-2xl animate-fade-in",style:{background:"var(--color-card)",borderColor:"var(--color-border)",color:"var(--color-text)",boxShadow:"0 4px 32px 0 rgba(0,0,0,0.10)"},children:[e.jsx("div",{"data-component-start":"27:12:1200","data-component-end":"27:81:1269","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"div","data-component-class":"absolute top-0 left-0 w-full h-1 bg-brand-primary",className:"absolute top-0 left-0 w-full h-1 bg-brand-primary"}),e.jsxs("div",{"data-component-start":"28:12:1283","data-component-end":"31:18:1556","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"div","data-component-class":"text-center",className:"text-center",children:[e.jsx("h2",{"data-component-start":"29:14:1328","data-component-end":"29:113:1427","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"h2","data-component-class":"text-3xl font-extrabold",className:"text-3xl font-extrabold",style:{color:"var(--color-text)"},children:"Redefinir Senha"}),e.jsx("p",{"data-component-start":"30:14:1443","data-component-end":"30:107:1536","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"p","data-component-class":"mt-2",className:"mt-2",style:{color:"var(--color-border)"},children:"Digite sua nova senha abaixo"})]}),e.jsx(k,{"data-component-start":"32:12:1570","data-component-end":"32:33:1591","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"ResetPasswordForm"})]})})]}),e.jsx(F,{"data-component-start":"37:6:1709","data-component-end":"37:27:1730","data-component-path":"src\\react-app\\pages\\ResetPasswordPage.tsx","data-component-file":"ResetPasswordPage.tsx","data-component-name":"ScrollToTopButton"})]});export{H as default};
