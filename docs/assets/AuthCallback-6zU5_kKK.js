import{a as x,r as u,j as e,_ as b}from"./index-5kq8hIw2.js";function w(){const a=x();return u.useEffect(()=>{async function l(){var c;const m=window.location.hash,n=new URLSearchParams(m.replace("#","?")),o=n.get("access_token"),s=n.get("refresh_token");if(!o||!s){a("/login?error=callback");return}try{const{supabase:r}=await b(async()=>{const{supabase:t}=await import("./supabaseClient-BcFB357R.js");return{supabase:t}},[],import.meta.url),{error:d}=await r.auth.setSession({access_token:o,refresh_token:s});if(d)a("/login?error=session");else{const{data:t}=await r.auth.getUser(),i=((c=t==null?void 0:t.user)==null?void 0:c.email)||"",p=["contato@hermidamaia.adv.br","adrianohermida@gmail.com","admin@example.com"].some(h=>h.toLowerCase()===i.toLowerCase());a(p?"/dashboard":"/client-portal",{replace:!0})}}catch{a("/login?error=exception")}}l()},[a]),e.jsx("div",{"data-component-start":"70:4:2620","data-component-end":"75:10:2954","data-component-path":"src\\react-app\\pages\\AuthCallback.tsx","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-class":"min-h-screen flex items-center justify-center bg-bgPrimary text-textPrimary",className:"min-h-screen flex items-center justify-center bg-bgPrimary text-textPrimary",children:e.jsxs("div",{"data-component-start":"71:6:2721","data-component-end":"74:12:2942","data-component-path":"src\\react-app\\pages\\AuthCallback.tsx","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-class":"bg-bgElevated p-8 rounded-2xl shadow-xl w-full max-w-md text-center",className:"bg-bgElevated p-8 rounded-2xl shadow-xl w-full max-w-md text-center",children:[e.jsx("h1",{"data-component-start":"72:8:2816","data-component-end":"72:63:2871","data-component-path":"src\\react-app\\pages\\AuthCallback.tsx","data-component-file":"AuthCallback.tsx","data-component-name":"h1","data-component-class":"text-2xl font-bold mb-4",className:"text-2xl font-bold mb-4",children:"Aguarde..."}),e.jsx("p",{"data-component-start":"73:8:2881","data-component-end":"73:55:2928","data-component-path":"src\\react-app\\pages\\AuthCallback.tsx","data-component-file":"AuthCallback.tsx","data-component-name":"p",children:"Validando autenticação e redirecionando."})]})})}export{w as default};
