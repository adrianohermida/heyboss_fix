import{c as l,r as c,j as t,U as _,_ as z,X as E}from"./index-zeu6QezB.js";import{c as B}from"./clsx-B-dksMZM.js";import{S as D}from"./search-7Ah_4MM0.js";import{L as N}from"./loader-circle-DmGPZJBg.js";import{M as I}from"./message-square-DwFry7ub.js";import{C as R}from"./clock-BJrRG0ic.js";import{C as A}from"./CustomForm-6X0GIjMr.js";import{c as T}from"./themes-Cxw5ut08.js";import{P as L}from"./plus-DSEw5avu.js";import{T as $}from"./trash-2-CMGGfOJy.js";import{F as q}from"./facebook-BnkDw_4t.js";import{M as H}from"./message-circle-BJKlrxef.js";import{C as J}from"./circle-check-DaARTXTC.js";import{Z as F}from"./zap-CA1-CrGU.js";import{U as G}from"./users-CpEOmWzA.js";import{B as M}from"./bot-CWoDknkV.js";import{H as S}from"./history-D8ZQROYJ.js";import"./index-BykweIWy.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],X=l("arrow-right-left",Z);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],W=l("ellipsis-vertical",K);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U=l("globe",Y);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],at=l("instagram",tt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],k=l("layers",et);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M22 17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.5C2 7 4 5 6.5 5H18c2.2 0 4 1.8 4 4v8Z",key:"1lbycx"}],["polyline",{points:"15,9 18,9 18,11",key:"1pm9c0"}],["path",{d:"M6.5 5C9 5 11 7 11 9.5V17a2 2 0 0 1-2 2",key:"15i455"}],["line",{x1:"6",x2:"7",y1:"10",y2:"10",key:"1e2scm"}]],ot=l("mailbox",nt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],st=l("monitor",ct);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],pt=l("paperclip",dt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],P=l("send",rt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],lt=l("settings-2",it);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xt=l("shield-alert",mt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ft=l("smartphone",ut);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],O=l("square-pen",ht),bt=()=>{const[m,C]=c.useState([]),[s,w]=c.useState(null),[i,h]=c.useState([]),[b,x]=c.useState(!0),[n,r]=c.useState(""),[p,f]=c.useState(!1),g=c.useRef(null),y=()=>{var a;(a=g.current)==null||a.scrollIntoView({behavior:"smooth"})};c.useEffect(()=>{j();const a=setInterval(j,1e4);return()=>clearInterval(a)},[]),c.useEffect(()=>{if(s){v(s.id);const a=setInterval(()=>v(s.id),5e3);return()=>clearInterval(a)}},[s]),c.useEffect(()=>{y()},[i]);const j=async()=>{try{const a=await fetch("/api/admin/conversations");if(a.ok){const d=await a.json();C(d)}}catch(a){console.error("Failed to fetch conversations:",a)}finally{x(!1)}},v=async a=>{try{const d=await fetch(`/api/admin/conversations/${a}/messages`);if(d.ok){const u=await d.json();h(u)}}catch(d){console.error("Failed to fetch messages:",d)}},V=async()=>{if(!(!n.trim()||p||!s)){f(!0);try{const a=await fetch(`/api/admin/conversations/${s.id}/reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n})});if(a.ok)r(""),v(s.id);else{const d=await a.json();alert(d.message||"Erro ao enviar mensagem.")}}catch{alert("Erro de conexão ao enviar mensagem.")}finally{f(!1)}}},o=a=>{switch(a){case"whatsapp":return t.jsx(ft,{"data-component-start":"109:30:3192","data-component-end":"109:81:3243","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Smartphone","data-component-class":"text-green-500",size:12,className:"text-green-500"});case"web":return t.jsx(st,{"data-component-start":"110:25:3271","data-component-end":"110:72:3318","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Monitor","data-component-class":"text-blue-500",size:12,className:"text-blue-500"});default:return t.jsx(U,{"data-component-start":"111:22:3343","data-component-end":"111:67:3388","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Globe","data-component-class":"text-white/40",size:12,className:"text-white/40"})}},e=a=>a?a==="ia"?"Assistente IA":a:"Fila de Espera";return t.jsxs("div",{"data-component-start":"122:4:3615","data-component-end":"302:10:13440","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated rounded-3xl border border-white/5 overflow-hidden shadow-xl flex h-[700px] animate-fade-in",className:"bg-brand-elevated rounded-3xl border border-white/5 overflow-hidden shadow-xl flex h-[700px] animate-fade-in",children:[t.jsxs("div",{"data-component-start":"124:6:3783","data-component-end":"202:12:8103","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"w-80 border-r border-white/5 flex flex-col shrink-0 bg-brand-dark/20",className:"w-80 border-r border-white/5 flex flex-col shrink-0 bg-brand-dark/20",children:[t.jsx("div",{"data-component-start":"125:8:3879","data-component-end":"134:14:4383","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"p-4 border-b border-white/5",className:"p-4 border-b border-white/5",children:t.jsxs("div",{"data-component-start":"126:10:3936","data-component-end":"133:16:4367","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"relative",className:"relative",children:[t.jsx(D,{"data-component-start":"127:12:3976","data-component-end":"127:99:4063","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Search","data-component-class":"absolute left-3 top-1/2 -translate-y-1/2 text-white/20",className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20",size:14}),t.jsx("input",{"data-component-start":"128:12:4077","data-component-end":"132:14:4349","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"input","data-component-class":"w-full bg-brand-dark border border-white/10 rounded-xl py-2 pl-9 pr-4 text-xs text-white outline-none focus:border-brand-primary transition-all",type:"text",placeholder:"Buscar conversas...",className:"w-full bg-brand-dark border border-white/10 rounded-xl py-2 pl-9 pr-4 text-xs text-white outline-none focus:border-brand-primary transition-all"})]})}),t.jsx("div",{"data-component-start":"135:8:4393","data-component-end":"201:14:8089","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex-1 overflow-y-auto scrollbar-hide",className:"flex-1 overflow-y-auto scrollbar-hide",children:b?t.jsx("div",{"data-component-start":"137:12:4486","data-component-end":"139:18:4630","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex justify-center py-10",className:"flex justify-center py-10",children:t.jsx(N,{"data-component-start":"138:14:4545","data-component-end":"138:79:4610","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Loader2","data-component-class":"animate-spin text-brand-primary",className:"animate-spin text-brand-primary",size:24})}):m.length>0?t.jsx("div",{"data-component-start":"141:12:4688","data-component-end":"193:18:7688","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"divide-y divide-white/5",className:"divide-y divide-white/5",children:m.map(a=>t.jsxs("button",{"data-component-start":"143:16:4793","data-component-end":"191:25:7649","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"button","data-component-map-start":"142:15:4746","data-component-map-end":"192:16:7667",onClick:()=>w(a),className:B("w-full p-4 text-left hover:bg-white/5 transition-all flex items-start gap-3 group",(s==null?void 0:s.id)===a.id&&"bg-white/5"),children:[t.jsxs("div",{"data-component-start":"151:18:5159","data-component-end":"158:24:5666","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"relative",className:"relative",children:[t.jsx("div",{"data-component-start":"152:20:5207","data-component-end":"154:26:5387","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"w-10 h-10 rounded-xl bg-brand-primary/10 flex items-center justify-center text-brand-primary",className:"w-10 h-10 rounded-xl bg-brand-primary/10 flex items-center justify-center text-brand-primary",children:t.jsx(_,{"data-component-start":"153:22:5341","data-component-end":"153:40:5359","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"User",size:18})}),t.jsx("div",{"data-component-start":"155:20:5409","data-component-end":"157:26:5640","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-brand-dark border-2 border-brand-elevated flex items-center justify-center",className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-brand-dark border-2 border-brand-elevated flex items-center justify-center",children:o(a.channel_type)})]}),t.jsxs("div",{"data-component-start":"159:18:5686","data-component-end":"190:24:7622","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex-1 min-w-0",className:"flex-1 min-w-0",children:[t.jsxs("div",{"data-component-start":"160:20:5740","data-component-end":"167:26:6256","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex justify-between items-center mb-1",className:"flex justify-between items-center mb-1",children:[t.jsxs("p",{"data-component-start":"161:22:5820","data-component-end":"163:26:5961","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"font-bold text-xs text-white truncate",className:"font-bold text-xs text-white truncate",children:[a.first_name," ",a.last_name]}),t.jsx("span",{"data-component-start":"164:22:5985","data-component-end":"166:29:6228","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-[8px] text-white/20 font-bold uppercase",className:"text-[8px] text-white/20 font-bold uppercase",children:a.last_message_at?new Date(a.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),t.jsxs("div",{"data-component-start":"168:20:6278","data-component-end":"174:26:6714","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex items-center gap-1.5 mb-2",className:"flex items-center gap-1.5 mb-2",children:[t.jsx("span",{"data-component-start":"169:22:6350","data-component-end":"169:100:6428","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-[9px] text-white/40 truncate",className:"text-[9px] text-white/40 truncate",children:a.channel_name}),t.jsx("span",{"data-component-start":"170:22:6452","data-component-end":"170:62:6492","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-white/20",className:"text-white/20",children:"•"}),t.jsx("span",{"data-component-start":"171:22:6516","data-component-end":"173:29:6686","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-[9px] text-brand-primary font-medium truncate",className:"text-[9px] text-brand-primary font-medium truncate",children:e(a.assigned_agent_email)})]}),t.jsxs("div",{"data-component-start":"175:20:6736","data-component-end":"189:26:7596","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex items-center gap-2",className:"flex items-center gap-2",children:[t.jsx("span",{"data-component-start":"176:22:6801","data-component-end":"183:29:7234","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span",className:B("text-[8px] font-bold uppercase px-1.5 py-0.5 rounded-md",a.status==="novo"?"bg-brand-primary/10 text-brand-primary":a.status==="ativo"?"bg-blue-500/10 text-blue-400":"bg-white/5 text-white/40"),children:a.status}),a.routing_rule_applied&&t.jsx("span",{"data-component-start":"185:24:7315","data-component-end":"187:31:7542","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-[7px] font-bold uppercase px-1.5 py-0.5 rounded-md bg-white/5 text-white/30 border border-white/5",className:"text-[7px] font-bold uppercase px-1.5 py-0.5 rounded-md bg-white/5 text-white/30 border border-white/5",children:a.routing_rule_applied.replace("_"," ")})]})]})]},a.id))}):t.jsxs("div",{"data-component-start":"195:12:7719","data-component-end":"199:18:8059","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex flex-col items-center justify-center h-full p-8 text-center text-white/20",className:"flex flex-col items-center justify-center h-full p-8 text-center text-white/20",children:[t.jsx(I,{"data-component-start":"196:14:7831","data-component-end":"196:69:7886","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"MessageSquare","data-component-class":"mb-4 opacity-10",size:48,className:"mb-4 opacity-10"}),t.jsx("p",{"data-component-start":"197:14:7902","data-component-end":"197:67:7955","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"text-sm font-bold",className:"text-sm font-bold",children:"Nenhuma conversa"}),t.jsx("p",{"data-component-start":"198:14:7971","data-component-end":"198:82:8039","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"text-[10px] mt-1",className:"text-[10px] mt-1",children:"Aguardando novos atendimentos..."})]})})]}),t.jsx("div",{"data-component-start":"205:6:8140","data-component-end":"301:12:13428","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex-1 flex flex-col min-w-0 bg-brand-dark/10",className:"flex-1 flex flex-col min-w-0 bg-brand-dark/10",children:s?t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-component-start":"209:12:8291","data-component-end":"233:18:9787","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"p-4 border-b border-white/5 flex items-center justify-between bg-brand-dark/30",className:"p-4 border-b border-white/5 flex items-center justify-between bg-brand-dark/30",children:[t.jsxs("div",{"data-component-start":"210:14:8403","data-component-end":"227:20:9499","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3",className:"flex items-center gap-3",children:[t.jsx("div",{"data-component-start":"211:16:8462","data-component-end":"213:22:8634","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"w-10 h-10 rounded-xl bg-brand-primary/20 flex items-center justify-center text-brand-primary",className:"w-10 h-10 rounded-xl bg-brand-primary/20 flex items-center justify-center text-brand-primary",children:t.jsx(_,{"data-component-start":"212:18:8592","data-component-end":"212:36:8610","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"User",size:20})}),t.jsxs("div",{"data-component-start":"214:16:8652","data-component-end":"226:22:9477","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div",children:[t.jsxs("div",{"data-component-start":"215:18:8677","data-component-end":"222:24:9236","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex items-center gap-2",className:"flex items-center gap-2",children:[t.jsxs("h3",{"data-component-start":"216:20:8740","data-component-end":"216:120:8840","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"h3","data-component-class":"font-bold text-sm text-white",className:"font-bold text-sm text-white",children:[s.first_name," ",s.last_name]}),s.routing_rule_applied&&t.jsxs("span",{"data-component-start":"218:22:8925","data-component-end":"220:29:9186","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-[8px] font-bold uppercase px-1.5 py-0.5 rounded-md bg-brand-primary/10 text-brand-primary border border-brand-primary/20",className:"text-[8px] font-bold uppercase px-1.5 py-0.5 rounded-md bg-brand-primary/10 text-brand-primary border border-brand-primary/20",children:["Regra: ",s.routing_rule_applied.replace("_"," ")]})]}),t.jsxs("p",{"data-component-start":"223:18:9256","data-component-end":"225:22:9453","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"text-[10px] text-white/40",className:"text-[10px] text-white/40",children:[s.lead_email," • ",s.channel_name," • ",e(s.assigned_agent_email)]})]})]}),t.jsx("div",{"data-component-start":"228:14:9515","data-component-end":"232:20:9767","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex items-center gap-2",className:"flex items-center gap-2",children:t.jsx("button",{"data-component-start":"229:16:9574","data-component-end":"231:25:9745","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"button","data-component-class":"p-2 hover:bg-white/5 rounded-lg transition-all text-white/40 hover:text-white",className:"p-2 hover:bg-white/5 rounded-lg transition-all text-white/40 hover:text-white",children:t.jsx(W,{"data-component-start":"230:18:9692","data-component-end":"230:44:9718","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"MoreVertical",size:18})})})]}),t.jsxs("div",{"data-component-start":"236:12:9838","data-component-end":"262:18:11455","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide",className:"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide",children:[i.length===0?t.jsxs("div",{"data-component-start":"238:16:9967","data-component-end":"241:22:10203","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex flex-col items-center justify-center h-full text-white/10",className:"flex flex-col items-center justify-center h-full text-white/10",children:[t.jsx(R,{"data-component-start":"239:18:10067","data-component-end":"239:65:10114","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Clock","data-component-class":"mb-2 opacity-20",size:32,className:"mb-2 opacity-20"}),t.jsx("p",{"data-component-start":"240:18:10134","data-component-end":"240:63:10179","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"text-xs",className:"text-xs",children:"Início da conversa"})]}):i.map((a,d)=>t.jsxs("div",{"data-component-start":"244:18:10288","data-component-end":"258:24:11353","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-map-start":"243:16:10242","data-component-map-end":"259:18:11373",className:B("flex flex-col",a.author_type==="agent"?"items-end":"items-start"),children:[t.jsx("div",{"data-component-start":"245:20:10416","data-component-end":"254:26:10991","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div",className:B("max-w-[75%] p-4 rounded-2xl text-xs leading-relaxed shadow-lg",a.author_type==="agent"?"bg-brand-primary text-white rounded-tr-none":a.author_type==="ia"?"bg-brand-accent/20 border border-brand-accent/30 text-white rounded-tl-none":"bg-white/5 border border-white/10 text-white/90 rounded-tl-none"),children:a.content}),t.jsxs("span",{"data-component-start":"255:20:11013","data-component-end":"257:27:11327","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"span","data-component-class":"text-[8px] text-white/20 mt-1 px-2 font-bold",className:"text-[8px] text-white/20 mt-1 px-2 font-bold",children:[a.author_type==="agent"?"Você":a.author_type==="ia"?"IA":"Cliente"," • ",a.created_at?new Date(a.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""]})]},d)),t.jsx("div",{"data-component-start":"261:14:11407","data-component-end":"261:42:11435","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div",ref:g})]}),t.jsx("div",{"data-component-start":"265:12:11503","data-component-end":"290:18:12892","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"p-4 border-t border-white/5 bg-brand-dark/30",className:"p-4 border-t border-white/5 bg-brand-dark/30",children:t.jsxs("div",{"data-component-start":"266:14:11581","data-component-end":"289:20:12872","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"relative flex items-center gap-2",className:"relative flex items-center gap-2",children:[t.jsx("button",{"data-component-start":"267:16:11649","data-component-end":"269:25:11789","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"button","data-component-class":"p-2 text-white/20 hover:text-white transition-all",className:"p-2 text-white/20 hover:text-white transition-all",children:t.jsx(pt,{"data-component-start":"268:18:11739","data-component-end":"268:41:11762","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Paperclip",size:18})}),t.jsx("textarea",{"data-component-start":"270:16:11807","data-component-end":"281:18:12415","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"textarea","data-component-class":"flex-1 bg-brand-dark border border-white/10 rounded-xl py-3 px-4 text-xs text-white outline-none focus:border-brand-primary transition-all resize-none h-12 scrollbar-hide",value:n,onChange:a=>r(a.target.value),onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),V())},placeholder:"Digite sua resposta...",className:"flex-1 bg-brand-dark border border-white/10 rounded-xl py-3 px-4 text-xs text-white outline-none focus:border-brand-primary transition-all resize-none h-12 scrollbar-hide"}),t.jsx("button",{"data-component-start":"282:16:12433","data-component-end":"288:25:12850","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"button","data-component-class":"p-3 bg-brand-primary text-white rounded-xl hover:bg-brand-primary/90 disabled:opacity-30 transition-all shadow-lg shadow-brand-primary/20",onClick:V,disabled:!n.trim()||p,className:"p-3 bg-brand-primary text-white rounded-xl hover:bg-brand-primary/90 disabled:opacity-30 transition-all shadow-lg shadow-brand-primary/20",children:p?t.jsx(N,{"data-component-start":"287:29:12755","data-component-end":"287:75:12801","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Loader2","data-component-class":"animate-spin",className:"animate-spin",size:18}):t.jsx(P,{"data-component-start":"287:78:12804","data-component-end":"287:96:12822","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"Send",size:18})})]})})]}):t.jsxs("div",{"data-component-start":"293:10:12934","data-component-end":"299:16:13402","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"flex-1 flex flex-col items-center justify-center text-white/20",className:"flex-1 flex flex-col items-center justify-center text-white/20",children:[t.jsx("div",{"data-component-start":"294:12:13028","data-component-end":"296:18:13203","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"div","data-component-class":"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:t.jsx(I,{"data-component-start":"295:14:13133","data-component-end":"295:64:13183","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"MessageSquare","data-component-class":"opacity-10",size:40,className:"opacity-10"})}),t.jsx("p",{"data-component-start":"297:12:13217","data-component-end":"297:85:13290","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"text-sm font-bold text-white/40",className:"text-sm font-bold text-white/40",children:"Selecione uma conversa"}),t.jsx("p",{"data-component-start":"298:12:13304","data-component-end":"298:92:13384","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\UnifiedInbox.tsx","data-component-file":"UnifiedInbox.tsx","data-component-name":"p","data-component-class":"text-xs mt-1",className:"text-xs mt-1",children:"Atendimentos de todos os canais aparecerão aqui."})]})})]})};function gt(){const[m,C]=c.useState(null);c.useEffect(()=>{z(()=>import("./form-configs-kofOPall.js"),[],import.meta.url).then(e=>C(e.default||e))},[]);const[s,w]=c.useState([]),[i,h]=c.useState([]),[b,x]=c.useState(!0),[n,r]=c.useState(!1),[p,f]=c.useState(null);c.useEffect(()=>{y(),g()},[]);const g=async()=>{try{const e=await fetch("/api/admin/queues");e.ok&&h(await e.json())}catch(e){console.error(e)}},y=async()=>{x(!0);try{const e=await fetch("/api/admin/channels");e.ok&&w(await e.json())}catch(e){console.error(e)}finally{x(!1)}},j=async(e,a)=>{try{const d=await fetch(`/api/admin/channels/${e}/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!a})});if(d.ok)y();else{const u=await d.json();alert(u.error||"Erro ao alterar status do canal.")}}catch{alert("Erro de conexão ao alterar status.")}},v=async e=>{if(e.credentials)try{JSON.parse(e.credentials)}catch{alert("Erro: O campo 'Credenciais' deve conter um JSON válido.");return}const a=p!=null&&p.id?"PUT":"POST",d=`/api/admin/channels${p!=null&&p.id?`/${p.id}`:""}`;try{const u=await fetch(d,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,active:e.active?1:0})}),Q=await u.json();u.ok&&Q.success?(r(!1),y()):alert(Q.error||"Erro ao salvar canal.")}catch{alert("Erro de conexão ao salvar canal.")}},V=async e=>{if(confirm("Excluir este canal?"))try{(await fetch(`/api/admin/channels/${e}`,{method:"DELETE"})).ok&&y()}catch{alert("Erro ao excluir.")}},o=e=>{switch(e){case"web":return t.jsx(U,{"data-component-start":"128:25:3698","data-component-end":"128:44:3717","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Globe",size:20});case"whatsapp":return t.jsx(H,{"data-component-start":"129:30:3750","data-component-end":"129:57:3777","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"MessageCircle",size:20});case"facebook":return t.jsx(q,{"data-component-start":"130:30:3810","data-component-end":"130:52:3832","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Facebook",size:20});case"instagram":return t.jsx(at,{"data-component-start":"131:31:3866","data-component-end":"131:54:3889","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Instagram",size:20});case"telegram":return t.jsx(P,{"data-component-start":"132:30:3922","data-component-end":"132:48:3940","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Send",size:20});default:return t.jsx(U,{"data-component-start":"133:22:3965","data-component-end":"133:41:3984","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Globe",size:20})}};return c.useMemo(()=>{const e=allConfigs.channel_form.jsonSchema,a=JSON.parse(JSON.stringify(e));return i.length>0&&a.properties.default_queue_id&&(a.properties.default_queue_id={...a.properties.default_queue_id,enum:i.map(d=>d.id),enumNames:i.map(d=>d.name)}),a},[i]),t.jsxs("div",{"data-component-start":"154:4:4597","data-component-end":"218:10:8539","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"space-y-6",className:"space-y-6",children:[t.jsxs("div",{"data-component-start":"155:6:4632","data-component-end":"163:12:5080","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"flex justify-between items-center",className:"flex justify-between items-center",children:[t.jsx("h3",{"data-component-start":"156:8:4693","data-component-end":"156:68:4753","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"h3","data-component-class":"font-bold text-lg",className:"font-bold text-lg",children:"Canais de Atendimento"}),t.jsxs("button",{"data-component-start":"157:8:4763","data-component-end":"162:17:5066","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"button","data-component-class":"bg-brand-primary text-white px-4 py-2 rounded-xl font-bold text-xs flex items-center gap-2 shadow-lg shadow-brand-primary/20",onClick:()=>{f(null),r(!0)},className:"bg-brand-primary text-white px-4 py-2 rounded-xl font-bold text-xs flex items-center gap-2 shadow-lg shadow-brand-primary/20",children:[t.jsx(L,{"data-component-start":"161:10:5018","data-component-end":"161:28:5036","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Plus",size:16})," Novo Canal"]})]}),t.jsx("div",{"data-component-start":"165:6:5090","data-component-end":"197:12:7470","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b?t.jsx("div",{"data-component-start":"167:10:5194","data-component-end":"167:128:5312","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"col-span-full flex justify-center py-20",className:"col-span-full flex justify-center py-20",children:t.jsx(N,{"data-component-start":"167:67:5251","data-component-end":"167:122:5306","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Loader2","data-component-class":"animate-spin text-brand-primary",className:"animate-spin text-brand-primary"})}):s.map(e=>t.jsxs("div",{"data-component-start":"169:10:5365","data-component-end":"195:16:7443","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-map-start":"168:12:5326","data-component-map-end":"196:10:7455","data-component-class":"bg-brand-elevated p-6 rounded-3xl border border-white/5 hover:border-brand-primary/30 transition-all group",className:"bg-brand-elevated p-6 rounded-3xl border border-white/5 hover:border-brand-primary/30 transition-all group",children:[t.jsxs("div",{"data-component-start":"170:12:5520","data-component-end":"178:18:6229","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"flex justify-between items-start mb-6",className:"flex justify-between items-start mb-6",children:[t.jsx("div",{"data-component-start":"171:14:5591","data-component-end":"173:20:5765","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"w-12 h-12 rounded-2xl bg-brand-primary/10 flex items-center justify-center text-brand-primary",className:"w-12 h-12 rounded-2xl bg-brand-primary/10 flex items-center justify-center text-brand-primary",children:o(e.type)}),t.jsxs("div",{"data-component-start":"174:14:5781","data-component-end":"177:20:6209","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"flex gap-2 opacity-0 group-hover:opacity-100 transition-all",className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[t.jsx("button",{"data-component-start":"175:16:5876","data-component-end":"175:178:6038","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"button","data-component-class":"p-2 hover:text-brand-primary transition-colors",onClick:()=>{f(e),r(!0)},className:"p-2 hover:text-brand-primary transition-colors",children:t.jsx(O,{"data-component-start":"175:151:6011","data-component-end":"175:169:6029","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Edit",size:16})}),t.jsx("button",{"data-component-start":"176:16:6056","data-component-end":"176:147:6187","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"button","data-component-class":"p-2 hover:text-red-400 transition-colors",onClick:()=>V(e.id),className:"p-2 hover:text-red-400 transition-colors",children:t.jsx($,{"data-component-start":"176:118:6158","data-component-end":"176:138:6178","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"Trash2",size:16})})]})]}),t.jsx("h4",{"data-component-start":"179:12:6243","data-component-end":"179:73:6304","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"h4","data-component-class":"font-bold text-white mb-1",className:"font-bold text-white mb-1",children:e.name}),t.jsx("p",{"data-component-start":"180:12:6318","data-component-end":"180:112:6418","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"p","data-component-class":"text-[10px] text-white/40 uppercase font-bold tracking-widest mb-4",className:"text-[10px] text-white/40 uppercase font-bold tracking-widest mb-4",children:e.type}),t.jsxs("div",{"data-component-start":"181:12:6432","data-component-end":"194:18:7425","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"flex items-center justify-between pt-4 border-t border-white/5",className:"flex items-center justify-between pt-4 border-t border-white/5",children:[t.jsxs("div",{"data-component-start":"182:14:6528","data-component-end":"192:20:7321","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"flex items-center gap-2",className:"flex items-center gap-2",children:[t.jsx("button",{"data-component-start":"183:16:6587","data-component-end":"188:25:7075","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"button",onClick:()=>j(e.id,!!e.active),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none ${e.active?"bg-brand-primary":"bg-white/10"}`,children:t.jsx("span",{"data-component-start":"187:18:6898","data-component-end":"187:168:7048","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"span",className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${e.active?"translate-x-5":"translate-x-1"}`})}),t.jsx("span",{"data-component-start":"189:16:7093","data-component-end":"191:23:7299","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"span",className:`text-[8px] font-bold uppercase ${e.active?"text-green-400":"text-white/20"}`,children:e.active?"Aceitando Atendimentos":"Pausado"})]}),t.jsxs("span",{"data-component-start":"193:14:7337","data-component-end":"193:82:7405","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"span","data-component-class":"text-[10px] text-white/40",className:"text-[10px] text-white/40",children:["ID: #",e.id]})]})]},e.id))}),n&&t.jsx("div",{"data-component-start":"200:8:7508","data-component-end":"216:14:8517","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-brand-dark/80 backdrop-blur-sm",className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-brand-dark/80 backdrop-blur-sm",children:t.jsxs("div",{"data-component-start":"201:10:7630","data-component-end":"215:16:8501","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated w-full max-w-xl rounded-[2.5rem] border border-white/10 shadow-2xl overflow-hidden flex flex-col",className:"bg-brand-elevated w-full max-w-xl rounded-[2.5rem] border border-white/10 shadow-2xl overflow-hidden flex flex-col",children:[t.jsxs("div",{"data-component-start":"202:12:7776","data-component-end":"205:18:8133","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"p-8 border-b border-white/10 flex items-center justify-between",className:"p-8 border-b border-white/10 flex items-center justify-between",children:[t.jsx("h2",{"data-component-start":"203:14:7872","data-component-end":"203:107:7965","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"h2","data-component-class":"text-2xl font-extrabold",className:"text-2xl font-extrabold",children:p?"Editar Canal":"Novo Canal"}),t.jsx("button",{"data-component-start":"204:14:7981","data-component-end":"204:146:8113","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"button","data-component-class":"p-2 hover:bg-white/5 rounded-full transition-all",onClick:()=>r(!1),className:"p-2 hover:bg-white/5 rounded-full transition-all",children:t.jsx(E,{"data-component-start":"204:122:8089","data-component-end":"204:137:8104","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"X",size:24})})]}),t.jsx("div",{"data-component-start":"206:12:8147","data-component-end":"214:18:8483","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"div","data-component-class":"flex-1 overflow-y-auto p-8",className:"flex-1 overflow-y-auto p-8",children:t.jsx(A,{"data-component-start":"207:14:8207","data-component-end":"213:16:8463","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\ChannelConfig.tsx","data-component-file":"ChannelConfig.tsx","data-component-name":"CustomForm",id:"channel_form",schema:allConfigs.channel_form.jsonSchema,formData:p||{},onSubmit:v,theme:T})})]})})]})}function yt(){const[m,C]=c.useState(null);c.useEffect(()=>{z(()=>import("./form-configs-kofOPall.js"),[],import.meta.url).then(o=>C(o.default||o))},[]);const[s,w]=c.useState([]),[i,h]=c.useState(!0),[b,x]=c.useState(!1),[n,r]=c.useState(null),[p,f]=c.useState("");c.useEffect(()=>{g()},[]),c.useEffect(()=>{if(p){const o=setTimeout(()=>f(""),3e3);return()=>clearTimeout(o)}},[p]);const g=async()=>{h(!0);try{const o=await fetch("/api/admin/queues");if(o.ok){const e=await o.json();w(e)}}catch(o){console.error("Erro ao buscar filas:",o)}finally{h(!1)}},y=async o=>{const e=n!=null&&n.id?"PUT":"POST",a=`/api/admin/queues${n!=null&&n.id?`/${n.id}`:""}`;try{const d=await fetch(a,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,active:o.active?1:0})}),u=await d.json();d.ok&&u.success?(x(!1),r(null),f(n?"Fila atualizada com sucesso!":"Fila criada com sucesso!"),g()):alert(u.error||"Erro ao salvar fila.")}catch(d){alert("Erro de conexão ao salvar fila."),console.error(d)}},j=async o=>{if(confirm("Excluir esta fila? Esta ação não pode ser desfeita se a fila estiver em uso."))try{const e=await fetch(`/api/admin/queues/${o}`,{method:"DELETE"});if(e.ok){const a=await e.json();a.success?(f("Fila excluída com sucesso!"),g()):alert(a.error||"Erro ao excluir fila.")}else{const a=await e.json();alert(a.error||"Erro ao excluir fila.")}}catch(e){alert("Erro ao excluir fila."),console.error(e)}},v=o=>{switch(o){case"ia_first":return t.jsx(F,{"data-component-start":"116:30:3542","data-component-end":"116:77:3589","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Zap","data-component-class":"text-brand-accent",size:16,className:"text-brand-accent"});case"round_robin":return t.jsx(X,{"data-component-start":"117:33:3625","data-component-end":"117:87:3679","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"ArrowRightLeft","data-component-class":"text-blue-400",size:16,className:"text-blue-400"});case"manual":return t.jsx(ot,{"data-component-start":"118:28:3710","data-component-end":"118:75:3757","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Mailbox","data-component-class":"text-white/40",size:16,className:"text-white/40"});default:return t.jsx(lt,{"data-component-start":"119:22:3782","data-component-end":"119:45:3805","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Settings2",size:16})}},V=o=>{switch(o){case"ia_first":return"IA-First (Assistente Virtual)";case"round_robin":return"Round-Robin (Distribuição)";case"manual":return"Manual (Aguardar)";default:return o}};return t.jsxs("div",{"data-component-start":"133:4:4126","data-component-end":"219:10:9156","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"space-y-6",className:"space-y-6",children:[p&&t.jsxs("div",{"data-component-start":"135:8:4191","data-component-end":"138:14:4470","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"bg-green-500/10 border border-green-500/30 rounded-2xl p-4 flex items-center gap-3 animate-fade-in",className:"bg-green-500/10 border border-green-500/30 rounded-2xl p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(J,{"data-component-start":"136:10:4319","data-component-end":"136:63:4372","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"CheckCircle2","data-component-class":"text-green-400",className:"text-green-400",size:20}),t.jsx("p",{"data-component-start":"137:10:4384","data-component-end":"137:80:4454","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"p","data-component-class":"text-sm font-medium text-green-400",className:"text-sm font-medium text-green-400",children:p})]}),t.jsxs("div",{"data-component-start":"141:6:4490","data-component-end":"152:12:5130","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex justify-between items-center",className:"flex justify-between items-center",children:[t.jsxs("div",{"data-component-start":"142:8:4551","data-component-end":"145:14:4762","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div",children:[t.jsx("h3",{"data-component-start":"143:10:4568","data-component-end":"143:67:4625","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"h3","data-component-class":"font-bold text-lg",className:"font-bold text-lg",children:"Filas & Roteamento"}),t.jsx("p",{"data-component-start":"144:10:4637","data-component-end":"144:119:4746","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"p","data-component-class":"text-xs text-white/40",className:"text-xs text-white/40",children:"Gerencie como os atendimentos são distribuídos entre IA e advogados."})]}),t.jsxs("button",{"data-component-start":"146:8:4772","data-component-end":"151:17:5116","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"button","data-component-class":"bg-brand-primary text-white px-4 py-2 rounded-xl font-bold text-xs flex items-center gap-2 shadow-lg shadow-brand-primary/20 hover:bg-brand-primary/90 transition-all",onClick:()=>{r(null),x(!0)},className:"bg-brand-primary text-white px-4 py-2 rounded-xl font-bold text-xs flex items-center gap-2 shadow-lg shadow-brand-primary/20 hover:bg-brand-primary/90 transition-all",children:[t.jsx(L,{"data-component-start":"150:10:5069","data-component-end":"150:28:5087","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Plus",size:16})," Nova Fila"]})]}),t.jsx("div",{"data-component-start":"154:6:5140","data-component-end":"197:12:7944","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"grid grid-cols-1 md:grid-cols-2 gap-6",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i?t.jsx("div",{"data-component-start":"156:10:5229","data-component-end":"156:138:5357","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"col-span-full flex justify-center py-20",className:"col-span-full flex justify-center py-20",children:t.jsx(N,{"data-component-start":"156:67:5286","data-component-end":"156:132:5351","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Loader2","data-component-class":"animate-spin text-brand-primary",className:"animate-spin text-brand-primary",size:32})}):s.length>0?s.map(o=>t.jsxs("div",{"data-component-start":"158:10:5426","data-component-end":"189:16:7509","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-map-start":"157:32:5391","data-component-map-end":"190:10:7521","data-component-class":"bg-brand-elevated p-6 rounded-3xl border border-white/5 hover:border-brand-primary/30 transition-all group",className:"bg-brand-elevated p-6 rounded-3xl border border-white/5 hover:border-brand-primary/30 transition-all group",children:[t.jsxs("div",{"data-component-start":"159:12:5579","data-component-end":"176:18:6797","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex justify-between items-start mb-4",className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{"data-component-start":"160:14:5650","data-component-end":"171:20:6305","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3",className:"flex items-center gap-3",children:[t.jsx("div",{"data-component-start":"161:16:5709","data-component-end":"163:22:5869","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-white/60",className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-white/60",children:t.jsx(k,{"data-component-start":"162:18:5825","data-component-end":"162:38:5845","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Layers",size:20})}),t.jsxs("div",{"data-component-start":"164:16:5887","data-component-end":"170:22:6283","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div",children:[t.jsx("h4",{"data-component-start":"165:18:5912","data-component-end":"165:72:5966","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"h4","data-component-class":"font-bold text-white",className:"font-bold text-white",children:o.name}),t.jsxs("div",{"data-component-start":"166:18:5986","data-component-end":"169:24:6259","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex items-center gap-1.5 mt-0.5",className:"flex items-center gap-1.5 mt-0.5",children:[v(o.routing_rule),t.jsx("span",{"data-component-start":"168:20:6113","data-component-end":"168:140:6233","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"span","data-component-class":"text-[10px] font-bold uppercase tracking-wider text-white/40",className:"text-[10px] font-bold uppercase tracking-wider text-white/40",children:V(o.routing_rule)})]})]})]}),t.jsxs("div",{"data-component-start":"172:14:6321","data-component-end":"175:20:6777","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[t.jsx("button",{"data-component-start":"173:16:6416","data-component-end":"173:192:6592","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"button","data-component-class":"p-2 hover:text-brand-primary transition-colors",onClick:()=>{r(o),x(!0)},className:"p-2 hover:text-brand-primary transition-colors",title:"Editar",children:t.jsx(O,{"data-component-start":"173:165:6565","data-component-end":"173:183:6583","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Edit",size:16})}),t.jsx("button",{"data-component-start":"174:16:6610","data-component-end":"174:161:6755","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"button","data-component-class":"p-2 hover:text-red-400 transition-colors",onClick:()=>j(o.id),className:"p-2 hover:text-red-400 transition-colors",title:"Excluir",children:t.jsx($,{"data-component-start":"174:132:6726","data-component-end":"174:152:6746","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Trash2",size:16})})]})]}),t.jsxs("div",{"data-component-start":"178:12:6825","data-component-end":"188:18:7491","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex items-center justify-between pt-4 border-t border-white/5",className:"flex items-center justify-between pt-4 border-t border-white/5",children:[t.jsxs("div",{"data-component-start":"179:14:6921","data-component-end":"184:20:7298","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex items-center gap-2",className:"flex items-center gap-2",children:[t.jsx("span",{"data-component-start":"180:16:6980","data-component-end":"180:108:7072","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"span",className:`w-2 h-2 rounded-full ${o.active?"bg-green-400":"bg-white/10"}`}),t.jsx("span",{"data-component-start":"181:16:7090","data-component-end":"183:23:7276","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"span",className:`text-[10px] font-bold uppercase ${o.active?"text-green-400":"text-white/20"}`,children:o.active?"Ativa":"Inativa"})]}),t.jsx("div",{"data-component-start":"185:14:7314","data-component-end":"187:20:7471","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3",className:"flex items-center gap-3",children:t.jsxs("span",{"data-component-start":"186:16:7373","data-component-end":"186:92:7449","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"span","data-component-class":"text-[10px] text-white/20 font-mono",className:"text-[10px] text-white/20 font-mono",children:["ID: #",o.id]})})]})]},o.id)):t.jsxs("div",{"data-component-start":"191:10:7537","data-component-end":"195:16:7918","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"col-span-full bg-brand-elevated rounded-3xl border border-white/5 p-12 text-center text-white/20",className:"col-span-full bg-brand-elevated rounded-3xl border border-white/5 p-12 text-center text-white/20",children:[t.jsx(k,{"data-component-start":"192:12:7665","data-component-end":"192:68:7721","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"Layers","data-component-class":"mx-auto mb-4 opacity-10",size:48,className:"mx-auto mb-4 opacity-10"}),t.jsx("p",{"data-component-start":"193:12:7735","data-component-end":"193:73:7796","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"p","data-component-class":"text-sm font-bold",className:"text-sm font-bold",children:"Nenhuma fila configurada"}),t.jsx("p",{"data-component-start":"194:12:7810","data-component-end":"194:102:7900","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"p","data-component-class":"text-xs mt-1",className:"text-xs mt-1",children:"Crie sua primeira fila para começar a rotear atendimentos."})]})}),b&&t.jsx("div",{"data-component-start":"200:8:7982","data-component-end":"217:14:9134","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-brand-dark/80 backdrop-blur-sm",className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-brand-dark/80 backdrop-blur-sm",children:t.jsxs("div",{"data-component-start":"201:10:8104","data-component-end":"216:16:9118","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated w-full max-w-md rounded-[2.5rem] border border-white/10 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] overflow-y-auto",className:"bg-brand-elevated w-full max-w-md rounded-[2.5rem] border border-white/10 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{"data-component-start":"202:12:8279","data-component-end":"205:18:8691","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"p-8 border-b border-white/10 flex items-center justify-between sticky top-0 bg-brand-elevated",className:"p-8 border-b border-white/10 flex items-center justify-between sticky top-0 bg-brand-elevated",children:[t.jsx("h2",{"data-component-start":"203:14:8406","data-component-end":"203:103:8495","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"h2","data-component-class":"text-2xl font-extrabold",className:"text-2xl font-extrabold",children:n?"Editar Fila":"Nova Fila"}),t.jsx("button",{"data-component-start":"204:14:8511","data-component-end":"204:174:8671","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"button","data-component-class":"p-2 hover:bg-white/5 rounded-full transition-all",onClick:()=>{x(!1),r(null)},className:"p-2 hover:bg-white/5 rounded-full transition-all",children:t.jsx(E,{"data-component-start":"204:150:8647","data-component-end":"204:165:8662","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"X",size:24})})]}),t.jsx("div",{"data-component-start":"206:12:8705","data-component-end":"215:18:9100","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"div","data-component-class":"p-8",className:"p-8",children:t.jsx(A,{"data-component-start":"207:14:8742","data-component-end":"214:16:9080","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\QueueConfig.tsx","data-component-file":"QueueConfig.tsx","data-component-name":"CustomForm",id:"queue_form",schema:allConfigs.queue_form.jsonSchema,formData:n||{},onSubmit:y,theme:T,labels:{submit:n?"Atualizar Fila":"Criar Fila"}})})]})})]})}const Lt=()=>{const[m,C]=c.useState("inbox"),[s,w]=c.useState(!0),[i,h]=c.useState({active:0,pending:0,sla_risk:0,online_channels:0});c.useEffect(()=>{b();const n=setInterval(b,3e4);return()=>clearInterval(n)},[]);const b=async()=>{try{const n=await fetch("/api/admin/balcao/stats");if(n.ok){const r=await n.json();h(r)}}catch(n){console.error("Failed to fetch Balcão Virtual stats:",n)}finally{w(!1)}},x=[{id:"inbox",label:"Caixa de Entrada",icon:I},{id:"channels",label:"Canais",icon:U},{id:"queues",label:"Filas & Roteamento",icon:k},{id:"personas",label:"IA & Personas",icon:M},{id:"audit",label:"Auditoria LGPD",icon:S}];return t.jsxs("div",{"data-component-start":"70:4:1991","data-component-end":"136:10:5667","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"space-y-6 animate-fade-in",className:"space-y-6 animate-fade-in",children:[t.jsx("div",{"data-component-start":"72:6:2075","data-component-end":"93:12:3388","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"grid grid-cols-2 lg:grid-cols-4 gap-4",className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Atendimentos Ativos",value:i.active,icon:I,color:"text-brand-primary",bg:"bg-brand-primary/10"},{label:"Aguardando Fila",value:i.pending,icon:G,color:"text-yellow-400",bg:"bg-yellow-400/10"},{label:"Risco de SLA",value:i.sla_risk,icon:xt,color:"text-red-400",bg:"bg-red-400/10"},{label:"Canais Online",value:i.online_channels,icon:F,color:"text-blue-400",bg:"bg-blue-400/10"}].map((n,r)=>t.jsxs("div",{"data-component-start":"79:10:2705","data-component-end":"91:16:3361","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-map-start":"73:9:2141","data-component-map-end":"92:10:3373","data-component-class":"bg-brand-elevated p-4 rounded-2xl border border-white/5",className:"bg-brand-elevated p-4 rounded-2xl border border-white/5",children:[t.jsxs("div",{"data-component-start":"80:12:2802","data-component-end":"85:18:3123","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 mb-2",className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{"data-component-start":"81:14:2864","data-component-end":"83:20:2995","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div",className:`${n.bg} p-2 rounded-lg`,children:t.jsx(n.icon,{"data-component-start":"82:16:2927","data-component-end":"82:62:2973","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"stat.icon",className:n.color,size:18})}),t.jsx("p",{"data-component-start":"84:14:3011","data-component-end":"84:106:3103","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"p","data-component-class":"text-white/40 text-[10px] font-bold uppercase tracking-wider",className:"text-white/40 text-[10px] font-bold uppercase tracking-wider",children:n.label})]}),s?t.jsx("div",{"data-component-start":"87:14:3165","data-component-end":"87:75:3226","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"h-8 w-12 bg-white/5 animate-pulse rounded",className:"h-8 w-12 bg-white/5 animate-pulse rounded"}):t.jsx("p",{"data-component-start":"89:14:3261","data-component-end":"89:80:3327","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"p","data-component-class":"text-2xl font-extrabold text-white",className:"text-2xl font-extrabold text-white",children:n.value})]},r))}),t.jsx("div",{"data-component-start":"96:6:3433","data-component-end":"112:12:4156","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-1.5 rounded-2xl border border-white/5 flex gap-1 overflow-x-auto scrollbar-hide",className:"bg-brand-elevated p-1.5 rounded-2xl border border-white/5 flex gap-1 overflow-x-auto scrollbar-hide",children:x.map(n=>t.jsxs("button",{"data-component-start":"98:10:3595","data-component-end":"110:19:4129","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"button","data-component-map-start":"97:9:3561","data-component-map-end":"111:10:4141",onClick:()=>C(n.id),className:B("flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all shrink-0",m===n.id?"bg-brand-primary text-white shadow-lg shadow-brand-primary/20":"text-white/40 hover:text-white hover:bg-white/5"),children:[t.jsx(n.icon,{"data-component-start":"108:12:4061","data-component-end":"108:34:4083","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"tab.icon",size:14}),n.label]},n.id))}),t.jsxs("div",{"data-component-start":"115:6:4193","data-component-end":"135:12:5655","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"min-h-[600px]",className:"min-h-[600px]",children:[m==="inbox"&&t.jsx(bt,{"data-component-start":"116:37:4263","data-component-end":"116:53:4279","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"UnifiedInbox"}),m==="channels"&&t.jsx(gt,{"data-component-start":"117:40:4322","data-component-end":"117:57:4339","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"ChannelConfig"}),m==="queues"&&t.jsx(yt,{"data-component-start":"118:38:4380","data-component-end":"118:53:4395","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"QueueConfig"}),m==="personas"&&t.jsxs("div",{"data-component-start":"120:10:4451","data-component-end":"125:16:4997","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated rounded-3xl border border-white/5 p-8 text-center text-white/40",className:"bg-brand-elevated rounded-3xl border border-white/5 p-8 text-center text-white/40",children:[t.jsx(M,{"data-component-start":"121:12:4564","data-component-end":"121:65:4617","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"Bot","data-component-class":"mx-auto mb-4 opacity-20",size:48,className:"mx-auto mb-4 opacity-20"}),t.jsx("h3",{"data-component-start":"122:12:4631","data-component-end":"122:81:4700","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"h3","data-component-class":"text-lg font-bold text-white mb-2",className:"text-lg font-bold text-white mb-2",children:"Personas de IA"}),t.jsx("p",{"data-component-start":"123:12:4714","data-component-end":"123:147:4849","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"p","data-component-class":"max-w-md mx-auto text-sm",className:"max-w-md mx-auto text-sm",children:"Defina o tom de voz e o comportamento do assistente virtual para cada canal de atendimento."}),t.jsx("button",{"data-component-start":"124:12:4863","data-component-end":"124:128:4979","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"button","data-component-class":"mt-6 bg-brand-primary text-white px-6 py-2.5 rounded-xl font-bold text-sm",className:"mt-6 bg-brand-primary text-white px-6 py-2.5 rounded-xl font-bold text-sm",children:"Criar Persona"})]}),m==="audit"&&t.jsxs("div",{"data-component-start":"128:10:5061","data-component-end":"133:16:5629","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated rounded-3xl border border-white/5 p-8 text-center text-white/40",className:"bg-brand-elevated rounded-3xl border border-white/5 p-8 text-center text-white/40",children:[t.jsx(S,{"data-component-start":"129:12:5174","data-component-end":"129:69:5231","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"History","data-component-class":"mx-auto mb-4 opacity-20",size:48,className:"mx-auto mb-4 opacity-20"}),t.jsx("h3",{"data-component-start":"130:12:5245","data-component-end":"130:81:5314","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"h3","data-component-class":"text-lg font-bold text-white mb-2",className:"text-lg font-bold text-white mb-2",children:"Auditoria LGPD"}),t.jsx("p",{"data-component-start":"131:12:5328","data-component-end":"131:143:5459","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"p","data-component-class":"max-w-md mx-auto text-sm",className:"max-w-md mx-auto text-sm",children:"Trilha imutável de acessos, exportações e consentimentos capturados em todos os canais."}),t.jsx("button",{"data-component-start":"132:12:5473","data-component-end":"132:150:5611","data-component-path":"src\\react-app\\components\\BalcaoVirtual\\BalcaoVirtualModule.tsx","data-component-file":"BalcaoVirtualModule.tsx","data-component-name":"button","data-component-class":"mt-6 bg-white/5 text-white border border-white/10 px-6 py-2.5 rounded-xl font-bold text-sm",className:"mt-6 bg-white/5 text-white border border-white/10 px-6 py-2.5 rounded-xl font-bold text-sm",children:"Ver Logs Completos"})]})]})]})};export{Lt as BalcaoVirtualModule};
